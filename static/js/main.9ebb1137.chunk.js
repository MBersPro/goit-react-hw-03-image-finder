(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__3ZMh8",imageGalleryItem_image:"ImageGalleryItem_imageGalleryItem_image__3q4ed"}},11:function(e,t,a){e.exports={overlay:"Modal_overlay__32geN",modal:"Modal_modal__HLIz8"}},13:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__2korI"}},14:function(e,t,a){e.exports={button:"Button_button__2ILOX"}},16:function(e,t,a){e.exports={app:"App_app__3jgfr"}},21:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a(12),r=a.n(o),s=(a(21),a(8)),c=a(3),i=a(4),l=a(6),m=a(5),u=a(10),h=a(0),p=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={isModalOpen:!1},e.onModalChanger=function(){e.props.onModalOpen(e.props.img.largeImageURL)},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(h.jsx)("li",{className:u.imageGalleryItem,children:Object(h.jsx)("img",{className:u.imageGalleryItem_image,src:this.props.img.webformatURL,alt:"some",onClick:this.onModalChanger})})}}]),a}(n.Component),b=p,d=a(13),g=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("ul",{className:d.imageGallery,children:this.props.imgList.map((function(t){return Object(h.jsx)(b,{img:t,onModalOpen:e.props.onModalOpen})}))})})}}]),a}(n.Component),j=g,f=a(7),O=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={name:""},e.onInputChange=function(t){e.setState({name:t.target.value}),console.log(e.state.name)},e.onHandleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.name),e.setState({name:""})},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(h.jsx)("header",{className:f.searchbar,children:Object(h.jsxs)("form",{onSubmit:this.onHandleSubmit,className:f.searchForm,children:[Object(h.jsx)("button",{type:"submit",className:f.searchForm_button,children:Object(h.jsx)("span",{className:f.searchForm_button_label})}),Object(h.jsx)("input",{type:"text",onChange:this.onInputChange,value:this.state.name,className:f.searchForm_input})]})})}}]),a}(n.Component),_=O,y=function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("23653781-213be0db305102de1ebeb2694","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){return e.hits})).then((function(e){return e}))},v=a(14),x=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(h.jsx)("button",{className:v.button,onClick:this.props.onLoadMore,children:"Load More"})}}]),a}(n.Component),M=x,S=a(11),I=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={imgs:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.props.onModalClose)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.props.onModalClose)}},{key:"render",value:function(){return Object(h.jsx)("div",{className:S.overlay,children:Object(h.jsx)("div",{className:S.modal,children:Object(h.jsx)("img",{src:this.props.modalImg,alt:"some"})})})}}]),a}(n.Component),w=I,L=a(15),k=a.n(L),C=(a(43),function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={name:"",imgList:[],page:1,loader:!1,isModalOpen:!1,modalImg:""},e.onModalOpen=function(t){e.setState({isModalOpen:!0,modalImg:t}),console.log(t)},e.onModalClose=function(t){"Escape"===t.code&&e.setState({isModalOpen:!1,modalImg:""})},e.onSubmit=function(t){e.state.name!==t&&(e.setState({imgList:[]}),e.setState({name:t}))},e.onLoadMore=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;this.state.name!==t.name&&""!==this.state.name&&(this.setState({loader:!0}),y(this.state.name,this.state.page).then((function(e){return a.setState((function(t){return{imgList:[].concat(Object(s.a)(t.imgList),Object(s.a)(e))}}))})).finally((function(){a.setState({loader:!1})}))),this.state.page!==t.page&&(this.setState({loader:!0}),y(this.state.name,this.state.page).then((function(e){return a.setState((function(t){return{imgList:[].concat(Object(s.a)(t.imgList),Object(s.a)(e))}}))})).then((function(){a.setState({loader:!1})})).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})))}},{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(_,{onSubmit:this.onSubmit}),Object(h.jsx)(j,{imgList:this.state.imgList,onModalOpen:this.onModalOpen}),this.state.imgList.length>0&&Object(h.jsx)(M,{onLoadMore:this.onLoadMore}),this.state.isModalOpen&&Object(h.jsx)(w,{modalImg:this.state.modalImg,onModalClose:this.onModalClose}),this.state.loader&&Object(h.jsx)(k.a,{type:"Puff",color:"#001aff",height:200,width:200,timeout:3e3,position:"top-center"})]})}}]),a}(n.Component)),F=C,G=a(16);r.a.render(Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(F,{className:G.app})}),document.getElementById("root"))},7:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__1-5f3",searchForm:"Searchbar_searchForm__u5xeB",searchForm_button:"Searchbar_searchForm_button__umBDG","searchForm-button":"Searchbar_searchForm-button__Yk7Dn",searchForm_button_label:"Searchbar_searchForm_button_label__3cuwY",searchForm_input:"Searchbar_searchForm_input__v6Xh8"}}},[[44,1,2]]]);
//# sourceMappingURL=main.9ebb1137.chunk.js.map